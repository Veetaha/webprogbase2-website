

{{ srcResult ? 'Submit your result' : 'Edit your result' }}

<ng-container *ngIf="!updResult; else elseEditingResult">
    <markdown
        [data]="srcResult?.body || '*Click here to submit your solution.*'"
        (click)="editTaskResult()"
        class="task-result-display"
    >
    </markdown>
    <ng-container *ngIf="srcResult">
        <vee-file-download *ngIf="srcResult!.fileUrl"
            [href]="srcResult!.fileUrl"
            fileName="task-result"
        >
            Attached file
        </vee-file-download>
        <small 
            class="text-muted d-block"
        >
            Last update {{ srcResult!.lastUpdate | date: 'medium' }}
        </small>
    </ng-container>
</ng-container>
<ng-template #elseEditingResult>
    <form (ngSubmit)="onFormSubmit()">    
        <vee-markdown-editor
            [(sourceText)]="updResult.body"
        ></vee-markdown-editor>
        <br>
        <vee-file-upload
            [(fileUrl)]="updResult.fileUrl"
        ></vee-file-upload>
        <br>
        <button mat-raised-button
            color="primary" 
            type="submit"
            class="mt-3"
        >
            <mat-icon>save</mat-icon>
            Submit
        </button>
    </form>
</ng-template>