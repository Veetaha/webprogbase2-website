<ng-container *ngIf="!updResult; else elseEditingResult">
    <ng-container *ngIf="srcResult">
        <markdown
            [data]="srcResult!.body"
            class="task-result-display"
        >
        </markdown>
        <vee-file-download *ngIf="srcResult!.fileUrl"
            [href]="srcResult!.fileUrl"
            fileName="task-result"
        >
            Attached file
        </vee-file-download>
        <small 
            class="text-muted d-block"
        >
            Last update {{ srcResult!.lastUpdate | date: 'medium' }}
        </small>
    </ng-container>
    <button mat-button
        (click)="editTaskResult()"
        color="primary"
        type="button"
    >
        <mat-icon>edit</mat-icon>
        {{ srcResult ? 'Edit solution' : 'Create task solution' }}
    </button>
</ng-container>
<ng-template #elseEditingResult>
    <form (ngSubmit)="onFormSubmit()">    
        <vee-markdown-editor
            [(sourceText)]="updResult!.body"
        ></vee-markdown-editor>
        <br>
        <vee-file-upload
            [(fileUrl)]="updResult!.fileUrl"
        ></vee-file-upload>
        <br>
        <div class="btn-group mt-3">
            <button mat-raised-button
                color="accent" 
                type="submit"
            >
                <mat-icon>save</mat-icon>
                Submit
            </button>
            <button mat-raised-button
                (click)="updResult = null"
                color="primary" 
                type="button"
                class="ml-4"
            >
                Cancel
            </button>
        </div>
        
    </form>
</ng-template>